<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../../../favicon.ico">

    <title>IPv6 Treemap Viz</title>

    <!-- Bootstrap core CSS -->
    <link href="./css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="./css/style.css" rel="stylesheet">
      
      
      
      
      
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      var allCountries = [
        "AF",
        "AX",
        "AL",
        "DZ",
        "AS",
        "AD",
        "AO",
        "AI",
        "AQ",
        "AG",
        "AR",
        "AM",
        "AW",
        "AU",
        "AT",
        "AZ",
        "BS",
        "BH",
        "BD",
        "BB",
        "BY",
        "BE",
        "BZ",
        "BJ",
        "BM",
        "BT",
        "BO",
        "BA",
        "BW",
        "BV",
        "BR",
        "VG",
        "IO",
        "BN",
        "BG",
        "BF",
        "BI",
        "KH",
        "CM",
        "CA",
        "CV",
        "KY",
        "CF",
        "TD",
        "CL",
        "CN",
        "HK",
        "MO",
        "CX",
        "CC",
        "CO",
        "KM",
        "CG",
        "CD",
        "CK",
        "CR",
        "CI",
        "HR",
        "CU",
        "CY",
        "CZ",
        "DK",
        "DJ",
        "DM",
        "DO",
        "EC",
        "EG",
        "SV",
        "GQ",
        "ER",
        "EE",
        "ET",
        "FK",
        "FO",
        "FJ",
        "FI",
        "FR",
        "GF",
        "PF",
        "TF",
        "GA",
        "GM",
        "GE",
        "DE",
        "GH",
        "GI",
        "GR",
        "GL",
        "GD",
        "GP",
        "GU",
        "GT",
        "GG",
        "GN",
        "GW",
        "GY",
        "HT",
        "HM",
        "VA",
        "HN",
        "HU",
        "IS",
        "IN",
        "ID",
        "IR",
        "IQ",
        "IE",
        "IM",
        "IL",
        "IT",
        "JM",
        "JP",
        "JE",
        "JO",
        "KZ",
        "KE",
        "KI",
        "KP",
        "KR",
        "KW",
        "KG",
        "LA",
        "LV",
        "LB",
        "LS",
        "LR",
        "LY",
        "LI",
        "LT",
        "LU",
        "MK",
        "MG",
        "MW",
        "MY",
        "MV",
        "ML",
        "MT",
        "MH",
        "MQ",
        "MR",
        "MU",
        "YT",
        "MX",
        "FM",
        "MD",
        "MC",
        "MN",
        "ME",
        "MS",
        "MA",
        "MZ",
        "MM",
        "NA",
        "NR",
        "NP",
        "NL",
        "AN",
        "NC",
        "NZ",
        "NI",
        "NE",
        "NG",
        "NU",
        "NF",
        "MP",
        "NO",
        "OM",
        "PK",
        "PW",
        "PS",
        "PA",
        "PG",
        "PY",
        "PE",
        "PH",
        "PN",
        "PL",
        "PT",
        "PR",
        "QA",
        "RE",
        "RO",
        "RU",
        "RW",
        "BL",
        "SH",
        "KN",
        "LC",
        "MF",
        "PM",
        "VC",
        "WS",
        "SM",
        "ST",
        "SA",
        "SN",
        "RS",
        "SC",
        "SL",
        "SG",
        "SK",
        "SI",
        "SB",
        "SO",
        "ZA",
        "GS",
        "SS",
        "ES",
        "LK",
        "SD",
        "SR",
        "SJ",
        "SZ",
        "SE",
        "CH",
        "SY",
        "TW",
        "TJ",
        "TZ",
        "TH",
        "TL",
        "TG",
        "TK",
        "TO",
        "TT",
        "TN",
        "TR",
        "TM",
        "TC",
        "TV",
        "UG",
        "UA",
        "AE",
        "GB",
        "US",
        "UM",
        "UY",
        "UZ",
        "VU",
        "VE",
        "VN",
        "VI",
        "WF",
        "EH",
        "YE",
        "ZM",
        "ZW"
      ];

      google.charts.load('current', {'packages':['treemap']});
      google.charts.setOnLoadCallback(drawChart);

      function countryToRIR(countryTwoLetterCode) {
        var map = {
          "FR": "apnic",
          "EU": "ripencc",
          "GB": "apnic",
          "IT": "arin",
          "AE": "apnic",
          "IL": "arin",
          "RU": "ripencc",
          "SE": "apnic",
          "KZ": "ripencc",
          "PT": "ripencc",
          "GR": "ripencc",
          "SA": "apnic",
          "DK": "ripencc",
          "ES": "apnic",
          "IR": "apnic",
          "NO": "apnic",
          "DE": "apnic",
          "SY": "ripencc",
          "UA": "ripencc",
          "CY": "ripencc",
          "CZ": "arin",
          "CH": "arin",
          "IQ": "ripencc",
          "NL": "afrinic",
          "TR": "apnic",
          "RO": "apnic",
          "LB": "ripencc",
          "GE": "ripencc",
          "AZ": "ripencc",
          "AT": "arin",
          "PS": "ripencc",
          "LT": "ripencc",
          "OM": "ripencc",
          "RS": "ripencc",
          "FI": "arin",
          "IS": "ripencc",
          "BE": "arin",
          "HU": "ripencc",
          "BG": "ripencc",
          "SI": "ripencc",
          "MD": "ripencc",
          "MK": "ripencc",
          "EE": "ripencc",
          "LI": "ripencc",
          "US": "apnic",
          "HR": "ripencc",
          "PL": "ripencc",
          "BA": "ripencc",
          "LV": "ripencc",
          "JO": "ripencc",
          "KG": "ripencc",
          "IE": "arin",
          "IM": "apnic",
          "LY": "afrinic",
          "LU": "arin",
          "AM": "ripencc",
          "YE": "ripencc",
          "BY": "ripencc",
          "GI": "apnic",
          "SK": "ripencc",
          "MT": "ripencc",
          "QA": "ripencc",
          "VG": "apnic",
          "AL": "ripencc",
          "JE": "ripencc",
          "SM": "ripencc",
          "KW": "ripencc",
          "ME": "ripencc",
          "TJ": "ripencc",
          "UZ": "ripencc",
          "BH": "ripencc",
          "NC": "apnic",
          "SC": "afrinic",
          "GL": "ripencc",
          "VA": "ripencc",
          "BZ": "apnic",
          "FO": "ripencc",
          "GG": "ripencc",
          "MC": "ripencc",
          "IN": "afrinic",
          "AD": "ripencc",
          "AF": "apnic",
          "BR": "apnic",
          "TM": "ripencc",
          "MQ": "arin",
          "EG": "afrinic",
          "AU": "apnic",
          "HK": "apnic",
          "MY": "apnic",
          "CR": "lacnic",
          "BM": "arin",
          "AX": "ripencc",
          "MP": "apnic",
          "SG": "apnic",
          "SL": "afrinic",
          "NG": "afrinic",
          "CN": "apnic",
          "CA": "afrinic",
          "GP": "arin",
          "PA": "apnic",
          "MZ": "afrinic",
          "TH": "apnic",
          "NaN": "afrinic",
          "TN": "afrinic",
          "KE": "afrinic",
          "UG": "afrinic",
          "TG": "afrinic",
          "BI": "afrinic",
          "ZM": "afrinic",
          "TZ": "afrinic",
          "BW": "afrinic",
          "CW": "lacnic",
          "BN": "apnic",
          "ZA": "afrinic",
          "KY": "arin",
          "VN": "apnic",
          "NZ": "apnic",
          "YT": "afrinic",
          "JP": "apnic",
          "RE": "afrinic",
          "MA": "afrinic",
          "MO": "apnic",
          "arin": "2.3",
          "AI": "arin",
          "JM": "arin",
          "PR": "arin",
          "PM": "arin",
          "VI": "arin",
          "BS": "arin",
          "BB": "arin",
          "GD": "arin",
          "DM": "arin",
          "AG": "arin",
          "LC": "arin",
          "BL": "arin",
          "TC": "arin",
          "MF": "arin",
          "MX": "lacnic",
          "KN": "arin",
          "DO": "lacnic",
          "VC": "arin",
          "GU": "apnic",
          "TW": "apnic",
          "MS": "arin",
          "KR": "apnic",
          "lacnic": "2.3",
          "AR": "lacnic",
          "CL": "lacnic",
          "HN": "lacnic",
          "EC": "lacnic",
          "BO": "lacnic",
          "SV": "lacnic",
          "PE": "lacnic",
          "GT": "lacnic",
          "CO": "apnic",
          "NI": "lacnic",
          "UY": "lacnic",
          "PY": "lacnic",
          "TT": "lacnic",
          "GF": "lacnic",
          "VE": "lacnic",
          "SX": "lacnic",
          "GY": "lacnic",
          "BQ": "lacnic",
          "AW": "lacnic",
          "HT": "lacnic",
          "CU": "lacnic",
          "SR": "lacnic",
          "apnic": "2.3",
          "PH": "apnic",
          "BD": "apnic",
          "PK": "apnic",
          "ID": "apnic",
          "PG": "apnic",
          "NP": "apnic",
          "TK": "apnic",
          "KH": "apnic",
          "MV": "apnic",
          "FJ": "apnic",
          "MN": "apnic",
          "WF": "apnic",
          "MM": "apnic",
          "LA": "apnic",
          "LK": "apnic",
          "BT": "apnic",
          "NR": "apnic",
          "VU": "apnic",
          "WS": "apnic",
          "FM": "apnic",
          "PF": "apnic",
          "TL": "apnic",
          "TO": "apnic",
          "NU": "apnic",
          "SB": "apnic",
          "KI": "apnic",
          "PW": "apnic",
          "NF": "apnic",
          "MH": "apnic",
          "AS": "apnic",
          "KP": "apnic",
          "TV": "apnic",
          "IO": "apnic",
          "MU": "afrinic",
          "CK": "apnic",
          "afrinic": "2",
          "DZ": "afrinic",
          "ZZ": "afrinic",
          "AO": "afrinic",
          "SD": "afrinic",
          "GH": "afrinic",
          "CM": "afrinic",
          "GA": "afrinic",
          "ZW": "afrinic",
          "SZ": "afrinic",
          "ML": "afrinic",
          "RW": "afrinic",
          "ET": "afrinic",
          "GM": "afrinic",
          "BF": "afrinic",
          "LS": "afrinic",
          "NE": "afrinic",
          "BJ": "afrinic",
          "MR": "afrinic",
          "CI": "afrinic",
          "ER": "afrinic",
          "DJ": "afrinic",
          "CD": "afrinic",
          "MW": "afrinic",
          "SS": "afrinic",
          "KM": "afrinic",
          "CG": "afrinic",
          "MG": "afrinic",
          "GN": "afrinic",
          "CF": "afrinic",
          "LR": "afrinic",
          "GQ": "afrinic",
          "SN": "afrinic",
          "SO": "afrinic",
          "TD": "afrinic",
          "CV": "afrinic",
          "GW": "afrinic",
          "ST": "afrinic"
        }

        return map[countryTwoLetterCode.toUpperCase()]
      }

      
      function drawChart() {
        var rawData = [
        ['Country', 'RIR', 'IPv6 Adoption', 'GDP'],
        ['World', null, 0, 0],
        //['afrinic', 'World', 0, 0],
        //['apnic', 'World', 0, 0],
        //['ripencc', 'World', 0, 0],
        //['lacnic', 'World', 0, 0],
        //['arin', 'World', 0, 0],
        ];
          
        $.getJSON( "/data-sources/co2_emissions_2016.json", function( gdpDataSource ) {  
          $.getJSON( "/data-sources/ratio_v6_v4.json", function( adoptionDataSource ) {              
            allCountries.forEach(function(country) {
              if(countryToRIR(country) !== undefined && gdpDataSource[country] !== undefined && adoptionDataSource[country] !== undefined)
                rawData.push([country, 'World', gdpDataSource[country], adoptionDataSource[country]]);
            });


            var data = new google.visualization.DataTable();
            var data = google.visualization.arrayToDataTable(rawData);
            tree = new google.visualization.TreeMap(document.getElementById('chart_div'));
            tree.draw(data, {
                minColor: '#0000FF',
                maxColor: '#FFFFFF',
                headerHeight: 25,
                fontColor: 'black',
                showScale: true,
            });
          });
        });
      }
    </script>
  </head>
    
    
    
  <body>
      
      <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="#">IPv6 Treemap Vizzz</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
          <!--
          <li class="nav-item active">
            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#">Disabled</a>
          </li>
          -->
          <li class="nav-item dropdown" style="float: right">
            <a class="nav-link dropdown-toggle" href="http://example.com" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</a>
            <div class="dropdown-menu" aria-labelledby="dropdown01">
              <a class="dropdown-item" href="#">Action</a>
              <a class="dropdown-item" href="#">Another action</a>
              <a class="dropdown-item" href="#">Something else here</a>
            </div>
          </li>
        </ul>
        
      </div>
    </nav>
      
      
    <main role="main" class="container-fluid">
        <div class="row">
            <div class="col"></div>
            <div class="col">
                <div id="chart_div" style="width: 900px; height: 500px;"></div>
            </div>
            <div class="col"></div>
        </div>
      </main><!-- /.container -->
      
      
      
      
      <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
     <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
  </body>
</html>
